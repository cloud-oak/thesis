'use strict';

// {{{
// NoteNet
// Automatically generated code
const CHORDS = {
'': [[0.2661290168762207, -0.3309022784233093, 0.2770567536354065, -0.1771300882101059, 0.004189253784716129, 0.14265485107898712, -0.2812778055667877, 0.315888375043869, -0.29186731576919556, 0.16236382722854614, -0.019113287329673767, -0.15775278210639954], [-0.0026208381168544292, 0.00198606145568192, -0.000888418813701719, -0.0003826551546808332, 0.0016211997717618942, -0.002487019170075655, 0.002628552494570613, -0.002009313553571701, 0.0008948136819526553, 0.00039317377377301455, -0.0016316828550770879, 0.0024799846578389406], [0.06797657161951065, -0.13658158481121063, 0.17082829773426056, -0.1570548415184021, 0.10330146551132202, -0.019813425838947296, -0.06680172681808472, 0.13777121901512146, -0.16965506970882416, 0.15820850431919098, -0.10215328633785248, 0.02096538245677948], [-0.1083289310336113, 0.020259493961930275, 0.07233215123414993, -0.14674504101276398, 0.18092863261699677, -0.1672741323709488, 0.10784527659416199, -0.020748842507600784, -0.07282732427120209, 0.14624753594398499, -0.1814233958721161, 0.1667873114347458]],
'maj7': [[0.15241536498069763, -0.2737129330635071, 0.32385504245758057, -0.28200262784957886, 0.1720292568206787, -0.011789249256253242, -0.15018285810947418, 0.276271790266037, -0.3210539221763611, 0.2847076654434204, -0.16966797411441803, 0.013920256868004799], [-0.002507602097466588, 0.0025618053041398525, -0.0019734150264412165, 0.0009599957265891135, 0.00036138910218141973, -0.001693757250905037, 0.002507186494767666, -0.002568282652646303, 0.0019770977087318897, -0.000944832805544138, -0.00036852763150818646, 0.0016812008107081056], [-0.020711073651909828, -0.06765972822904587, 0.13701750338077545, -0.1705816090106964, 0.15733851492404938, -0.10302651673555374, 0.020207548514008522, 0.06715989857912064, -0.13755129277706146, 0.17001542448997498, -0.1579011082649231, 0.10249260812997818], [-0.16683429479599, 0.10824725031852722, -0.020690223202109337, -0.07266168296337128, 0.14679045975208282, -0.18110381066799164, 0.16691650450229645, -0.10817696899175644, 0.020751075819134712, 0.07272463291883469, -0.14671726524829865, 0.18118685483932495]],
'7': [[0.3235147297382355, -0.2843037247657776, 0.1723332554101944, -0.009349271655082703, -0.1503008008003235, 0.2738895118236542, -0.32109084725379944, 0.28690147399902344, -0.16967253386974335, 0.011868377216160297, 0.15260574221611023, -0.27160608768463135], [-0.0020466074347496033, 0.0009020072757266462, 0.0004540695808827877, -0.0016431279946118593, 0.0024158142041414976, -0.0026100666727870703, 0.0020711063407361507, -0.0009279815130867064, -0.0004430317203514278, 0.0016569981817156076, -0.002431820146739483, 0.0025948977563530207], [0.13696585595607758, -0.17049354314804077, 0.15740929543972015, -0.10310322791337967, 0.02012862078845501, 0.06721152365207672, -0.1374804675579071, 0.1699761301279068, -0.15795587003231049, 0.10254613310098648, -0.020666325464844704, -0.06773795187473297], [-0.02038322202861309, -0.07278023660182953, 0.14648771286010742, -0.1809910237789154, 0.16721338033676147, -0.10829319059848785, 0.020459188148379326, 0.072846919298172, -0.14642244577407837, 0.18106147646903992, -0.16713827848434448, 0.10837224125862122]],
'+': [[-0.2446802258491516, -0.32994329929351807, -0.32421550154685974, -0.23874828219413757, -0.2446802258491516, -0.32994329929351807, -0.32421550154685974, -0.23874828219413757, -0.2446802258491516, -0.32994329929351807, -0.32421550154685974, -0.23874828219413757], [-0.0007060997886583209, -0.002573268488049507, 0.0010485429083928466, 0.002026248723268509, -0.0007060997886583209, -0.002573268488049507, 0.0010485429083928466, 0.002026248723268509, -0.0007060997886583209, -0.002573268488049507, 0.0010485429083928466, 0.002026248723268509], [0.01975676417350769, 0.02219201996922493, 0.02456553652882576, 0.022092217579483986, 0.01975676417350769, 0.02219201996922493, 0.02456553652882576, 0.022092217579483986, 0.01975676417350769, 0.02219201996922493, 0.02456553652882576, 0.022092217579483986], [-0.0013633226044476032, -0.005927428603172302, -0.01731097511947155, -0.012750544585287571, -0.0013633226044476032, -0.005927428603172302, -0.01731097511947155, -0.012750544585287571, -0.0013633226044476032, -0.005927428603172302, -0.01731097511947155, -0.012750544585287571]],
'm': [[0.2767537832260132, -0.1795693188905716, 0.00430638249963522, 0.14503780007362366, -0.28124257922172546, 0.3136967420578003, -0.29186367988586426, 0.16441509127616882, -0.019302822649478912, -0.15986037254333496, 0.26647090911865234, -0.3286033868789673], [-0.000981066725216806, -0.00043327666935510933, 0.0017125550657510757, -0.0024452623911201954, 0.0025345853064209223, -0.002026163972914219, 0.0009692910825833678, 0.00041737727588042617, -0.0017074528150260448, 0.0024469164200127125, -0.002547680167481303, 0.0020440355874598026], [0.17075838148593903, -0.15697869658470154, 0.1033804640173912, -0.019864683970808983, -0.06687324494123459, 0.13781139254570007, -0.16960114240646362, 0.15815553069114685, -0.10219813138246536, 0.02104322612285614, 0.06802890449762344, -0.13667051494121552], [0.07263555377721786, -0.14685873687267303, 0.18063272535800934, -0.16715852916240692, 0.10813716799020767, -0.020870700478553772, -0.07312281429767609, 0.14637382328510284, -0.1811203807592392, 0.16666293144226074, -0.10863593965768814, 0.0203776266425848]],
'm7': [[0.23627592623233795, -0.0939895436167717, -0.0710698813199997, 0.22127270698547363, -0.3081778585910797, 0.314655601978302, -0.23453444242477417, 0.09572716057300568, 0.07281981408596039, -0.21953122317790985, 0.3099154531955719, -0.3129056394100189], [-0.0002872936602216214, -0.0010734867537394166, 0.0021608618553727865, -0.002620846265926957, 0.002354324795305729, -0.0015196214662864804, 0.0002908309979829937, 0.0010603211121633649, -0.0021539709996432066, 0.0026243836618959904, -0.0023674904368817806, 0.0015265124384313822], [0.16955210268497467, -0.13498550653457642, 0.06359684467315674, 0.024135364219546318, -0.10613898932933807, 0.15902099013328552, -0.1699284315109253, 0.13461057841777802, -0.06397692859172821, -0.02451169118285179, 0.10576407611370087, -0.159401074051857], [0.11359104514122009, -0.16967381536960602, 0.18018877506256104, -0.1424199640750885, 0.06674963980913162, 0.026982443407177925, -0.11353987455368042, 0.16972407698631287, -0.1801372915506363, 0.14247113466262817, -0.06669937074184418, -0.026930972933769226]],
'o': [[-0.08776116371154785, 0.20461627840995789, -0.32144221663475037, 0.30043983459472656, -0.2507348656654358, 0.07902944087982178, 0.05848928540945053, -0.23357093334197998, 0.2928672432899475, -0.3289733827114105, 0.2219536006450653, -0.10815902054309845], [0.002070341259241104, -0.002604195149615407, 0.002463941229507327, -0.0015546550275757909, 0.0002224353956989944, 0.0011094240471720695, -0.0021101783495396376, 0.0025684668216854334, -0.002406022511422634, 0.001520230551250279, -0.0002335182362003252, -0.0010774255497381091], [0.06483711302280426, 0.025483688339591026, -0.10471686720848083, 0.16003601253032684, -0.16843800246715546, 0.13580667972564697, -0.06255549937486649, -0.023197831586003304, 0.10697745531797409, -0.1577952653169632, 0.1706438511610031, -0.13358718156814575], [0.1795949935913086, -0.14296288788318634, 0.06605293601751328, 0.026646502315998077, -0.11383768171072006, 0.16874592006206512, -0.18053174018859863, 0.14201921224594116, -0.0670061931014061, -0.027609974145889282, 0.112883560359478, -0.16968309879302979]],
'o7': [[0.27976760268211365, 0.2825147807598114, 0.2837556302547455, 0.27976760268211365, 0.2825147807598114, 0.2837556302547455, 0.27976760268211365, 0.2825147807598114, 0.2837556302547455, 0.27976760268211365, 0.2825147807598114, 0.2837556302547455], [-0.0026727246586233377, -0.0015875801909714937, 0.003817387856543064, -0.0026727246586233377, -0.0015875801909714937, 0.003817387856543064, -0.0026727246586233377, -0.0015875801909714937, 0.003817387856543064, -0.0026727246586233377, -0.0015875801909714937, 0.003817387856543064], [-0.060053542256355286, -0.06126543879508972, -0.06172500550746918, -0.060053542256355286, -0.06126543879508972, -0.06172500550746918, -0.060053542256355286, -0.06126543879508972, -0.06172500550746918, -0.060053542256355286, -0.06126543879508972, -0.06172500550746918], [0.00808668415993452, 0.008182852528989315, 0.00847306102514267, 0.00808668415993452, 0.008182852528989315, 0.00847306102514267, 0.00808668415993452, 0.008182852528989315, 0.00847306102514267, 0.00808668415993452, 0.008182852528989315, 0.00847306102514267]],
'Ã¸': [[0.011812050826847553, 0.1527581661939621, -0.27141472697257996, 0.3235536515712738, -0.284444123506546, 0.17214731872081757, -0.009405604563653469, -0.150148406624794, 0.2740808427333832, -0.3210519254207611, 0.286761075258255, -0.16985847055912018], [0.0016481305938214064, -0.0024344329722225666, 0.0026198120322078466, -0.0020661037415266037, 0.0009093625121749938, 0.00045277661411091685, -0.0016519954660907388, 0.0024132016114890575, -0.002585152629762888, 0.0020516100339591503, -0.0009206263348460197, -0.0004443245998118073], [0.10257101058959961, -0.02065882831811905, -0.0677490308880806, 0.13694825768470764, -0.1705063283443451, 0.1574183851480484, -0.10307833552360535, 0.020136116072535515, 0.0672004371881485, -0.13749808073043823, 0.16996333003044128, -0.15794679522514343], [0.18106338381767273, -0.16714228689670563, 0.1083659902215004, -0.020386822521686554, -0.07277581840753555, 0.14649522304534912, -0.1809891164302826, 0.16720937192440033, -0.10829944163560867, 0.020455587655305862, 0.07285134494304657, -0.14641492068767548]]
};

const NOTES = [[0.29734501242637634, -0.3218112587928772, 0.2573055922985077, -0.12670959532260895, -0.04086175560951233, 0.1945977807044983, -0.2989075481891632, 0.32024842500686646, -0.2588520646095276, 0.12518265843391418, 0.03934204578399658, -0.1961309164762497], [-0.0017252787947654724, 0.002687562257051468, -0.00293176993727684, 0.0023780539631843567, -0.0011964961886405945, -0.0003258846700191498, 0.001692451536655426, -0.0026661455631256104, 0.0029567480087280273, -0.0023733340203762054, 0.0011701546609401703, 0.00032237544655799866], [0.16868628561496735, -0.12834808230400085, 0.0542616993188858, 0.03513631224632263, -0.11456920206546783, 0.16372808814048767, -0.16836725175380707, 0.1286565512418747, -0.053942881524562836, -0.034819502383470535, 0.11488723754882812, -0.16340813040733337], [0.059025928378105164, 0.035352036356925964, -0.12067566812038422, 0.17311441898345947, -0.17950108647346497, 0.13758862018585205, -0.05923125520348549, -0.03555501252412796, 0.12047168612480164, -0.1733165681362152, 0.17929798364639282, -0.137790709733963]];

const eval_notenet = function(chord, pitch) {
  const CHORD = CHORDS[chord.mode];
  let res = 0.0;
  for(let channel = 0; channel < 4; channel++) {
    for(let dp = 0; dp < 12; dp++) {
      res += NOTES[channel][(12+dp-pitch)%12] *
             CHORD[channel][(12+dp-chord.base)%12];
    }
  }
  return res;
}

// }}}

export { eval_notenet };
